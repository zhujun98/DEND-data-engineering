FROM spark-local-spark-base

ARG SHARED_WORKSPACE

ENV SPARK_APPLICATION_JAR_LOCATION=/app/application.jar
ENV SPARK_APPLICATION_PYTHON_LOCATION=/app/app.py
ENV SPARK_APPLICATION_MAIN_CLASS=my.main.Application
ENV SPARK_APPLICATION_ARGS=""

WORKDIR ${SHARED_WORKSPACE}

# copy to WORKDIR
COPY spark-submit/submit.sh .